define(["app"],function(e){return e.factory("ColumnSize",["$window",function(e){function s(){var s=Math.floor(e.innerWidth/t);s>=6?r=6:s<=1?r=1:r=s;var o=Math.floor(e.innerHeight/n);o>=4?i=4:o<=1?i=1:i=o}function o(e){e.width<1?e.width=2:e.width>r&&(e.width=r);if(r<=5)e.csswidth="99%";else{var t=e.width*100/r;e.csswidth=t-1+"%"}}function u(e){e.height<1?e.height=2:e.height>i&&(e.height=i);var t=e.height*100/i;e.cssheight=t-1+"%"}var t=100,n=100,r=6,i=4;return{setSize:function(e){var t=e.length;s();for(var n=0;n<t;n++)o(e[n]),u(e[n])},buildSizeCompo:function(e){var t=e.length,n;for(var s=0;s<t;s++){n=e[s],n.compoSize=[];for(var o=1;o<=i;o++){n.compoSize.push({height:o,tab:[]});for(var u=1;u<=r;u++){var a=n.height>=o&&n.width>=u,f="";a==1&&(f="color:red"),n.compoSize[o-1].tab.push({width:u,selected:a,selectedStyle:f})}}}},resizeColumn:function(e,t,n){e.width=n,e.height=t,o(e),u(e),this.buildSizeCompo([e]);return}}}]),e})