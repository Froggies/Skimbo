define(["app"],function(e){return e.factory("ArrayUtils",function(){var e=!1,t=[];return{exist:function(e,t,n){return this.indexOf(e,t,n)>-1},indexOf:function(e,t,n){var r=-1;return e!==undefined?n!==undefined?this.indexOfWith(e,t,function(e,t){return e[n]==t[n]}):this.indexOfWith(e,t,function(e,t){return e==t}):r},existWith:function(e,t,n){return this.indexOfWith(e,t,n)>-1},indexOfWith:function(e,t,n){var r=-1;if(e!==undefined&&n!==undefined)for(var i=0;i<e.length;i++)if(n(e[i],t)==1)return i;return r},sortMsg:function(n,r){if(e==0){e=!0;var i=-1,s=!1;r.dateAgo=moment(moment(Number(r.createdAt)),"YYYYMMDD").fromNow();for(var o=0,u=n.length;o<u;++o){n[o].createdAt<r.createdAt&&i==-1&&(i=o);if(n[o].idProvider==r.idProvider||n[o].authorName==r.authorName&&n[o].message==r.message)s=!0,r.stared!==undefined&&(n[o].stared=r.stared),n[o].iStared=r.iStared,n[o].styleRefresh="";n[o].dateAgo=moment(moment(Number(n[o].createdAt)),"YYYYMMDD").fromNow()}i>-1&&s==0?n.splice(i,0,r):s==0&&n.push(r);if(t.length==0)e=!1;else{var a=t.shift();this.sortMsg(a.tab,a.msg)}}else t.push({tab:n,msg:r})}}}),e})