define(["app"],function(e){return e.controller("HeaderController",["$scope","$rootScope","$http","ArrayUtils","ImagesUtils","Network",function(e,t,n,r,i,s){e.loading=!0,e.loadingMsg="COLUMNS";var o=!0;t.$on("allColumns",function(t,n){n.length>0&&n[0].unifiedRequests.length>0?e.$apply(function(){e.loadingMsg="MESSAGES"}):e.$apply(function(){e.loading=!1})}),t.$on("msg",function(t,n){e.$apply(function(){o==1&&(o=!1,e.loading=!1)})}),t.$on("loading",function(t,n){e.$apply(function(){e.loading=n.loading,e.loading==1&&(e.loadingMsg=n.translationCode)})}),t.$on("userInfos",function(t,n){e.$apply(function(){if(e.userInfos==undefined)e.userInfos=[],e.userInfos.push(n);else{var t=r.indexOf(e.userInfos,n,"socialType");t>-1?e.userInfos[t]=n:i.isDefaultImage(e.userInfos[0].avatar)?e.userInfos.splice(0,0,n):e.userInfos.push(n)}})}),e.deleteProvider=function(t){n.get("/api/providers/del/"+t).success(function(){for(var n=0;n<e.userInfos.length;n++)if(e.userInfos[n].socialType==t){e.userInfos.splice(n,1),s.send({cmd:"allUnifiedRequests"}),s.send({cmd:"allPosters"});break}})}}]),e})