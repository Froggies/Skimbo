define(["app"],function(e){e.directive("scrollmanager",["$timeout","$rootScope",function(e,t){var n=!1;return{restrict:"A",link:function(r,i,s){var o=i[0],u=undefined;if(s.scrollmanager==="onlyTop"){var a=angular.element(o);t.$on("scrollManagerGoTop",function(e,t){angular.equals(t,r[s.scrolldata])&&(a[0].scrollTop=0)})}else{var a=angular.element(o.parentElement.parentElement),f=r[s.scrollmanager];f.isView=!1;var l=r.$watch(s.scrollmanager,function(t,r){f.isView==0&&(n=!1,a[0].scrollTop+=o.clientHeight,u!=undefined&&e.cancel(u),u=e(function(){n=!0,u=undefined},500))}),c=function(e){f.pos=o.offsetTop-a[0].offsetTop,e.target.scrollTop<=f.pos&&n==1&&(f.isView=!0,a.unbind("scroll",c),l(),r.$apply())};a.bind("scroll",c)}}}}])})