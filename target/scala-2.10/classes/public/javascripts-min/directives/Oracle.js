define(["app"],function(e){e.directive("oracle",["Network","$rootScope","$timeout",function(e,t,n){function s(e,n,r,i,s){t.$on(e,function(e,t){n!==undefined&&r!=undefined&&n.service==t.serviceName&&i.$apply(function(){s.possibleValues=t.values})})}function o(t,n,i){if(i!=r){var s={cmd:t,body:{serviceName:n,search:i}};e.send(s)}r=i}var r,i=undefined;return{link:function(e,t,r){var u=e[r.oracle];if(u.hasHelper==1||u.canHavePageId==1){var a=r.oracleType,f=e[r.oracleStore];s(a,u,t,e,f),t.bind("keyup",function(){i!=undefined&&n.cancel(i),i=n(function(){console.log(u,t[0].value),t[0].value!==""?o(a,u.service,t[0].value):f.possibleValues=[]},500)}),t.bind("$destroy",function(){t.unbind("keyup")})}}}}])})