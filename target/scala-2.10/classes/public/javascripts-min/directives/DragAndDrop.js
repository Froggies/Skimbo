define(["app"],function(e){return e.directive("drag",[function(){function e(e,t,n){t.addClass(n),e.dataTransfer.setData("id",e.target.id),e.dataTransfer.effectAllowed="move"}function t(e,t,n){t.removeClass(n)}return{restrict:"A",link:function(n,r,i){i.$set("draggable","true"),r.bind("dragstart",function(t){e(t,r,i.dragstyle)}),r.bind("dragend",function(e){t(e,r,i.dragstyle)})}}}]),e.directive("drop",["Network",function(e){function t(e,t,n){e.preventDefault(),t.addClass(n)}function n(e,t,n){t.removeClass(n)}function r(e){e.preventDefault()}function i(t,n,r,i){t.preventDefault(),r.removeClass(i);var s=t.dataTransfer.getData("id");s=s.split("_")[1];var o=angular.element(r).attr("id");o=o.split("_")[1];if(s!=o){var u=n.$parent;u.$apply(function(){var t=u.columns[s];u.columns[s]=u.columns[o],u.columns[s].index=o,u.columns[o]=t,u.columns[o].index=s,u.$eval(u.columns);var n={cmd:"modColumnsOrder",body:{}};n.body.columns=[];for(var r=0;r<u.columns.length;r++)n.body.columns.push(u.columns[r].title);e.send(n)})}}return{restrict:"A",link:function(e,s,o){s.bind("dragenter",function(e){t(e,s,o.dropstyle)}),s.bind("dragleave",function(e){n(e,s,o.dropstyle)}),s.bind("dragover",r),s.bind("drop",function(t){i(t,e,s,o.dropstyle)})}}}]),e})